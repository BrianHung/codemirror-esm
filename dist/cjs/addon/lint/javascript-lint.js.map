{"version":3,"file":"javascript-lint.js","sources":["../../../../src/addon/lint/javascript-lint.js"],"sourcesContent":["// Source: https://github.com/codemirror/CodeMirror/tree/master/addon/lint/javascript-lint.js\nexport default function(CodeMirror) {\n  \"use strict\";\n\n  function validator(text, options) {\n    if (!window.JSHINT) {\n      if (window.console) {\n        window.console.error(\"Error: window.JSHINT not defined, CodeMirror JavaScript linting cannot run.\");\n      }\n      return [];\n    }\n    if (!options.indent) \n      options.indent = 1; \n    JSHINT(text, options, options.globals);\n    var errors = JSHINT.data().errors, result = [];\n    if (errors) parseErrors(errors, result);\n    return result;\n  }\n\n  CodeMirror.registerHelper(\"lint\", \"javascript\", validator);\n\n  function parseErrors(errors, output) {\n    for ( var i = 0; i < errors.length; i++) {\n      var error = errors[i];\n      if (error) {\n        if (error.line <= 0) {\n          if (window.console) {\n            window.console.warn(\"Cannot display JSHint error (invalid line \" + error.line + \")\", error);\n          }\n          continue;\n        }\n\n        var start = error.character - 1, end = start + 1;\n        if (error.evidence) {\n          var index = error.evidence.substring(start).search(/.\\b/);\n          if (index > -1) {\n            end += index;\n          }\n        }\n\n        var hint = {\n          message: error.reason,\n          severity: error.code ? (error.code.startsWith('W') ? \"warning\" : \"error\") : \"error\",\n          from: CodeMirror.Pos(error.line - 1, start),\n          to: CodeMirror.Pos(error.line - 1, end)\n        };\n\n        output.push(hint);\n      }\n    }\n  }\n}"],"names":[],"mappings":";;AAAA;AACe,wBAAS,UAAU,EAAE;AAEpC;AACA,EAAE,SAAS,SAAS,CAAC,IAAI,EAAE,OAAO,EAAE;AACpC,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE;AACxB,MAAM,IAAI,MAAM,CAAC,OAAO,EAAE;AAC1B,QAAQ,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,6EAA6E,CAAC,CAAC;AAC5G,OAAO;AACP,MAAM,OAAO,EAAE,CAAC;AAChB,KAAK;AACL,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM;AACvB,QAAM,OAAO,CAAC,MAAM,GAAG,CAAC,GAAC;AACzB,IAAI,MAAM,CAAC,IAAI,EAAE,OAAO,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC;AAC3C,IAAI,IAAI,MAAM,GAAG,MAAM,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE,MAAM,GAAG,EAAE,CAAC;AACnD,IAAI,IAAI,MAAM,IAAE,WAAW,CAAC,MAAM,EAAE,MAAM,CAAC,GAAC;AAC5C,IAAI,OAAO,MAAM,CAAC;AAClB,GAAG;AACH;AACA,EAAE,UAAU,CAAC,cAAc,CAAC,MAAM,EAAE,YAAY,EAAE,SAAS,CAAC,CAAC;AAC7D;AACA,EAAE,SAAS,WAAW,CAAC,MAAM,EAAE,MAAM,EAAE;AACvC,IAAI,MAAM,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAC7C,MAAM,IAAI,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;AAC5B,MAAM,IAAI,KAAK,EAAE;AACjB,QAAQ,IAAI,KAAK,CAAC,IAAI,IAAI,CAAC,EAAE;AAC7B,UAAU,IAAI,MAAM,CAAC,OAAO,EAAE;AAC9B,YAAY,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,4CAA4C,GAAG,KAAK,CAAC,IAAI,GAAG,GAAG,EAAE,KAAK,CAAC,CAAC;AACxG,WAAW;AACX,UAAU,SAAS;AACnB,SAAS;AACT;AACA,QAAQ,IAAI,KAAK,GAAG,KAAK,CAAC,SAAS,GAAG,CAAC,EAAE,GAAG,GAAG,KAAK,GAAG,CAAC,CAAC;AACzD,QAAQ,IAAI,KAAK,CAAC,QAAQ,EAAE;AAC5B,UAAU,IAAI,KAAK,GAAG,KAAK,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AACpE,UAAU,IAAI,KAAK,GAAG,CAAC,CAAC,EAAE;AAC1B,YAAY,GAAG,IAAI,KAAK,CAAC;AACzB,WAAW;AACX,SAAS;AACT;AACA,QAAQ,IAAI,IAAI,GAAG;AACnB,UAAU,OAAO,EAAE,KAAK,CAAC,MAAM;AAC/B,UAAU,QAAQ,EAAE,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,GAAG,SAAS,GAAG,OAAO,IAAI,OAAO;AAC7F,UAAU,IAAI,EAAE,UAAU,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,EAAE,KAAK,CAAC;AACrD,UAAU,EAAE,EAAE,UAAU,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,EAAE,GAAG,CAAC;AACjD,SAAS,CAAC;AACV;AACA,QAAQ,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC1B,OAAO;AACP,KAAK;AACL,GAAG;AACH;;;;"}