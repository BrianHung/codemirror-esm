{"version":3,"file":"search.js","sources":["../../../../src/addon/search/search.js"],"sourcesContent":["// Source: https://github.com/codemirror/CodeMirror/tree/master/addon/search/search.js\nimport searchcursor from \"./searchcursor\"\nimport dialog from \"../dialog/dialog\"\nexport default function(CodeMirror) {\n  searchcursor(CodeMirror)\n  dialog(CodeMirror)\n  \"use strict\";\n\n  CodeMirror.defineOption(\"search\", {bottom: false});\n\n  function searchOverlay(query, caseInsensitive) {\n    if (typeof query == \"string\")\n      query = new RegExp(query.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\"), caseInsensitive ? \"gi\" : \"g\");\n    else if (!query.global)\n      query = new RegExp(query.source, query.ignoreCase ? \"gi\" : \"g\");\n\n    return {token: function(stream) {\n      query.lastIndex = stream.pos;\n      var match = query.exec(stream.string);\n      if (match && match.index == stream.pos) {\n        stream.pos += match[0].length || 1;\n        return \"searching\";\n      } else if (match) {\n        stream.pos = match.index;\n      } else {\n        stream.skipToEnd();\n      }\n    }};\n  }\n\n  function SearchState() {\n    this.posFrom = this.posTo = this.lastQuery = this.query = null;\n    this.overlay = null;\n  }\n\n  function getSearchState(cm) {\n    return cm.state.search || (cm.state.search = new SearchState());\n  }\n\n  function queryCaseInsensitive(query) {\n    return typeof query == \"string\" && query == query.toLowerCase();\n  }\n\n  function getSearchCursor(cm, query, pos) {\n    return cm.getSearchCursor(query, pos, {caseFold: queryCaseInsensitive(query), multiline: true});\n  }\n\n  function persistentDialog(cm, text, deflt, onEnter, onKeyDown) {\n    cm.openDialog(text, onEnter, {\n      value: deflt,\n      selectValueOnOpen: true,\n      closeOnEnter: false,\n      onClose: function() { clearSearch(cm); },\n      onKeyDown: onKeyDown,\n      bottom: cm.options.search.bottom\n    });\n  }\n\n  function dialog(cm, text, shortText, deflt, f) {\n    if (cm.openDialog) cm.openDialog(text, f, {value: deflt, selectValueOnOpen: true, bottom: cm.options.search.bottom});\n    else f(prompt(shortText, deflt));\n  }\n\n  function confirmDialog(cm, text, shortText, fs) {\n    if (cm.openConfirm) cm.openConfirm(text, fs);\n    else if (confirm(shortText)) fs[0]();\n  }\n\n  function parseString(string) {\n    return string.replace(/\\\\([nrt\\\\])/g, function(match, ch) {\n      if (ch == \"n\") return \"\\n\"\n      if (ch == \"r\") return \"\\r\"\n      if (ch == \"t\") return \"\\t\"\n      if (ch == \"\\\\\") return \"\\\\\"\n      return match\n    })\n  }\n\n  function parseQuery(query) {\n    var isRE = query.match(/^\\/(.*)\\/([a-z]*)$/);\n    if (isRE) {\n      try { query = new RegExp(isRE[1], isRE[2].indexOf(\"i\") == -1 ? \"\" : \"i\"); }\n      catch(e) {} \n    } else {\n      query = parseString(query)\n    }\n    if (typeof query == \"string\" ? query == \"\" : query.test(\"\"))\n      query = /x^/;\n    return query;\n  }\n\n  function startSearch(cm, state, query) {\n    state.queryText = query;\n    state.query = parseQuery(query);\n    cm.removeOverlay(state.overlay, queryCaseInsensitive(state.query));\n    state.overlay = searchOverlay(state.query, queryCaseInsensitive(state.query));\n    cm.addOverlay(state.overlay);\n    if (cm.showMatchesOnScrollbar) {\n      if (state.annotate) { state.annotate.clear(); state.annotate = null; }\n      state.annotate = cm.showMatchesOnScrollbar(state.query, queryCaseInsensitive(state.query));\n    }\n  }\n\n  function doSearch(cm, rev, persistent, immediate) {\n    var state = getSearchState(cm);\n    if (state.query) return findNext(cm, rev);\n    var q = cm.getSelection() || state.lastQuery;\n    if (q instanceof RegExp && q.source == \"x^\") q = null\n    if (persistent && cm.openDialog) {\n      var hiding = null\n      var searchNext = function(query, event) {\n        CodeMirror.e_stop(event);\n        if (!query) return;\n        if (query != state.queryText) {\n          startSearch(cm, state, query);\n          state.posFrom = state.posTo = cm.getCursor();\n        }\n        if (hiding) hiding.style.opacity = 1\n        findNext(cm, event.shiftKey, function(_, to) {\n          var dialog\n          if (to.line < 3 && document.querySelector &&\n              (dialog = cm.display.wrapper.querySelector(\".CodeMirror-dialog\")) &&\n              dialog.getBoundingClientRect().bottom - 4 > cm.cursorCoords(to, \"window\").top)\n            (hiding = dialog).style.opacity = .4\n        })\n      };\n      persistentDialog(cm, getQueryDialog(cm), q, searchNext, function(event, query) {\n        var keyName = CodeMirror.keyName(event)\n        var extra = cm.getOption('extraKeys'), cmd = (extra && extra[keyName]) || CodeMirror.keyMap[cm.getOption(\"keyMap\")][keyName]\n        if (cmd == \"findNext\" || cmd == \"findPrev\" ||\n          cmd == \"findPersistentNext\" || cmd == \"findPersistentPrev\") {\n          CodeMirror.e_stop(event);\n          startSearch(cm, getSearchState(cm), query);\n          cm.execCommand(cmd);\n        } else if (cmd == \"find\" || cmd == \"findPersistent\") {\n          CodeMirror.e_stop(event);\n          searchNext(query, event);\n        }\n      });\n      if (immediate && q) {\n        startSearch(cm, state, q);\n        findNext(cm, rev);\n      }\n    } else {\n      dialog(cm, getQueryDialog(cm), \"Search for:\", q, function(query) {\n        if (query && !state.query) cm.operation(function() {\n          startSearch(cm, state, query);\n          state.posFrom = state.posTo = cm.getCursor();\n          findNext(cm, rev);\n        });\n      });\n    }\n  }\n\n  function findNext(cm, rev, callback) {cm.operation(function() {\n    var state = getSearchState(cm);\n    var cursor = getSearchCursor(cm, state.query, rev ? state.posFrom : state.posTo);\n    if (!cursor.find(rev)) {\n      cursor = getSearchCursor(cm, state.query, rev ? CodeMirror.Pos(cm.lastLine()) : CodeMirror.Pos(cm.firstLine(), 0));\n      if (!cursor.find(rev)) return;\n    }\n    cm.setSelection(cursor.from(), cursor.to());\n    cm.scrollIntoView({from: cursor.from(), to: cursor.to()}, 20);\n    state.posFrom = cursor.from(); state.posTo = cursor.to();\n    if (callback) callback(cursor.from(), cursor.to())\n  });}\n\n  function clearSearch(cm) {cm.operation(function() {\n    var state = getSearchState(cm);\n    state.lastQuery = state.query;\n    if (!state.query) return;\n    state.query = state.queryText = null;\n    cm.removeOverlay(state.overlay);\n    if (state.annotate) { state.annotate.clear(); state.annotate = null; }\n  });}\n\n\n  function getQueryDialog(cm)  {\n    return '<span class=\"CodeMirror-search-label\">' + cm.phrase(\"Search:\") + '</span> <input type=\"text\" style=\"width: 10em\" class=\"CodeMirror-search-field\"/> <span style=\"color: #888\" class=\"CodeMirror-search-hint\">' + cm.phrase(\"(Use /re/ syntax for regexp search)\") + '</span>';\n  }\n  function getReplaceQueryDialog(cm) {\n    return ' <input type=\"text\" style=\"width: 10em\" class=\"CodeMirror-search-field\"/> <span style=\"color: #888\" class=\"CodeMirror-search-hint\">' + cm.phrase(\"(Use /re/ syntax for regexp search)\") + '</span>';\n  }\n  function getReplacementQueryDialog(cm) {\n    return '<span class=\"CodeMirror-search-label\">' + cm.phrase(\"With:\") + '</span> <input type=\"text\" style=\"width: 10em\" class=\"CodeMirror-search-field\"/>';\n  }\n  function getDoReplaceConfirm(cm) {\n    return '<span class=\"CodeMirror-search-label\">' + cm.phrase(\"Replace?\") + '</span> <button>' + cm.phrase(\"Yes\") + '</button> <button>' + cm.phrase(\"No\") + '</button> <button>' + cm.phrase(\"All\") + '</button> <button>' + cm.phrase(\"Stop\") + '</button> ';\n  }\n\n  function replaceAll(cm, query, text) {\n    cm.operation(function() {\n      for (var cursor = getSearchCursor(cm, query); cursor.findNext();) {\n        if (typeof query != \"string\") {\n          var match = cm.getRange(cursor.from(), cursor.to()).match(query);\n          cursor.replace(text.replace(/\\$(\\d)/g, function(_, i) {return match[i];}));\n        } else cursor.replace(text);\n      }\n    });\n  }\n\n  function replace(cm, all) {\n    if (cm.getOption(\"readOnly\")) return;\n    var query = cm.getSelection() || getSearchState(cm).lastQuery;\n    var dialogText = '<span class=\"CodeMirror-search-label\">' + (all ? cm.phrase(\"Replace all:\") : cm.phrase(\"Replace:\")) + '</span>';\n    dialog(cm, dialogText + getReplaceQueryDialog(cm), dialogText, query, function(query) {\n      if (!query) return;\n      query = parseQuery(query);\n      dialog(cm, getReplacementQueryDialog(cm), cm.phrase(\"Replace with:\"), \"\", function(text) {\n        text = parseString(text)\n        if (all) {\n          replaceAll(cm, query, text)\n        } else {\n          clearSearch(cm);\n          var cursor = getSearchCursor(cm, query, cm.getCursor(\"from\"));\n          var advance = function() {\n            var start = cursor.from(), match;\n            if (!(match = cursor.findNext())) {\n              cursor = getSearchCursor(cm, query);\n              if (!(match = cursor.findNext()) ||\n                  (start && cursor.from().line == start.line && cursor.from().ch == start.ch)) return;\n            }\n            cm.setSelection(cursor.from(), cursor.to());\n            cm.scrollIntoView({from: cursor.from(), to: cursor.to()});\n            confirmDialog(cm, getDoReplaceConfirm(cm), cm.phrase(\"Replace?\"),\n              [function() {doReplace(match);}, advance,\n                function() {replaceAll(cm, query, text)}]);\n          };\n          var doReplace = function(match) {\n            cursor.replace(typeof query == \"string\" ? text :\n              text.replace(/\\$(\\d)/g, function(_, i) {return match[i];}));\n            advance();\n          };\n          advance();\n        }\n      });\n    });\n  }\n\n  CodeMirror.commands.find = function(cm) {clearSearch(cm); doSearch(cm);};\n  CodeMirror.commands.findPersistent = function(cm) {clearSearch(cm); doSearch(cm, false, true);};\n  CodeMirror.commands.findPersistentNext = function(cm) {doSearch(cm, false, true, true);};\n  CodeMirror.commands.findPersistentPrev = function(cm) {doSearch(cm, true, true, true);};\n  CodeMirror.commands.findNext = doSearch;\n  CodeMirror.commands.findPrev = function(cm) {doSearch(cm, true);};\n  CodeMirror.commands.clearSearch = clearSearch;\n  CodeMirror.commands.replace = replace;\n  CodeMirror.commands.replaceAll = function(cm) {replace(cm, true);};\n}"],"names":[],"mappings":";;;;AAAA;AAGe,gBAAS,UAAU,EAAE;AACpC,EAAE,YAAY,CAAC,UAAU,EAAC;AAC1B,EAAE,MAAM,CAAC,UAAU,EAAC;AAEpB;AACA,EAAE,UAAU,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC;AACrD;AACA,EAAE,SAAS,aAAa,CAAC,KAAK,EAAE,eAAe,EAAE;AACjD,IAAI,IAAI,OAAO,KAAK,IAAI,QAAQ;AAChC,QAAM,KAAK,GAAG,IAAI,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,qCAAqC,EAAE,MAAM,CAAC,EAAE,eAAe,GAAG,IAAI,GAAG,GAAG,CAAC,GAAC;AACrH,SAAS,IAAI,CAAC,KAAK,CAAC,MAAM;AAC1B,QAAM,KAAK,GAAG,IAAI,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC,UAAU,GAAG,IAAI,GAAG,GAAG,CAAC,GAAC;AACtE;AACA,IAAI,OAAO,CAAC,KAAK,EAAE,SAAS,MAAM,EAAE;AACpC,MAAM,KAAK,CAAC,SAAS,GAAG,MAAM,CAAC,GAAG,CAAC;AACnC,MAAM,IAAI,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;AAC5C,MAAM,IAAI,KAAK,IAAI,KAAK,CAAC,KAAK,IAAI,MAAM,CAAC,GAAG,EAAE;AAC9C,QAAQ,MAAM,CAAC,GAAG,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC;AAC3C,QAAQ,OAAO,WAAW,CAAC;AAC3B,OAAO,MAAM,IAAI,KAAK,EAAE;AACxB,QAAQ,MAAM,CAAC,GAAG,GAAG,KAAK,CAAC,KAAK,CAAC;AACjC,OAAO,MAAM;AACb,QAAQ,MAAM,CAAC,SAAS,EAAE,CAAC;AAC3B,OAAO;AACP,KAAK,CAAC,CAAC;AACP,GAAG;AACH;AACA,EAAE,SAAS,WAAW,GAAG;AACzB,IAAI,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;AACnE,IAAI,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;AACxB,GAAG;AACH;AACA,EAAE,SAAS,cAAc,CAAC,EAAE,EAAE;AAC9B,IAAI,OAAO,EAAE,CAAC,KAAK,CAAC,MAAM,KAAK,EAAE,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,WAAW,EAAE,CAAC,CAAC;AACpE,GAAG;AACH;AACA,EAAE,SAAS,oBAAoB,CAAC,KAAK,EAAE;AACvC,IAAI,OAAO,OAAO,KAAK,IAAI,QAAQ,IAAI,KAAK,IAAI,KAAK,CAAC,WAAW,EAAE,CAAC;AACpE,GAAG;AACH;AACA,EAAE,SAAS,eAAe,CAAC,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE;AAC3C,IAAI,OAAO,EAAE,CAAC,eAAe,CAAC,KAAK,EAAE,GAAG,EAAE,CAAC,QAAQ,EAAE,oBAAoB,CAAC,KAAK,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC,CAAC;AACpG,GAAG;AACH;AACA,EAAE,SAAS,gBAAgB,CAAC,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,SAAS,EAAE;AACjE,IAAI,EAAE,CAAC,UAAU,CAAC,IAAI,EAAE,OAAO,EAAE;AACjC,MAAM,KAAK,EAAE,KAAK;AAClB,MAAM,iBAAiB,EAAE,IAAI;AAC7B,MAAM,YAAY,EAAE,KAAK;AACzB,MAAM,OAAO,EAAE,WAAW,EAAE,WAAW,CAAC,EAAE,CAAC,CAAC,EAAE;AAC9C,MAAM,SAAS,EAAE,SAAS;AAC1B,MAAM,MAAM,EAAE,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM;AACtC,KAAK,CAAC,CAAC;AACP,GAAG;AACH;AACA,EAAE,SAAS,MAAM,CAAC,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC,EAAE;AACjD,IAAI,IAAI,EAAE,CAAC,UAAU,IAAE,EAAE,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,KAAK,EAAE,KAAK,EAAE,iBAAiB,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,GAAC;AACzH,WAAS,CAAC,CAAC,MAAM,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC,GAAC;AACrC,GAAG;AACH;AACA,EAAE,SAAS,aAAa,CAAC,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,EAAE,EAAE;AAClD,IAAI,IAAI,EAAE,CAAC,WAAW,IAAE,EAAE,CAAC,WAAW,CAAC,IAAI,EAAE,EAAE,CAAC,GAAC;AACjD,SAAS,IAAI,OAAO,CAAC,SAAS,CAAC,IAAE,EAAE,CAAC,CAAC,CAAC,EAAE,GAAC;AACzC,GAAG;AACH;AACA,EAAE,SAAS,WAAW,CAAC,MAAM,EAAE;AAC/B,IAAI,OAAO,MAAM,CAAC,OAAO,CAAC,cAAc,EAAE,SAAS,KAAK,EAAE,EAAE,EAAE;AAC9D,MAAM,IAAI,EAAE,IAAI,GAAG,IAAE,OAAO,MAAI;AAChC,MAAM,IAAI,EAAE,IAAI,GAAG,IAAE,OAAO,MAAI;AAChC,MAAM,IAAI,EAAE,IAAI,GAAG,IAAE,OAAO,MAAI;AAChC,MAAM,IAAI,EAAE,IAAI,IAAI,IAAE,OAAO,MAAI;AACjC,MAAM,OAAO,KAAK;AAClB,KAAK,CAAC;AACN,GAAG;AACH;AACA,EAAE,SAAS,UAAU,CAAC,KAAK,EAAE;AAC7B,IAAI,IAAI,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC,oBAAoB,CAAC,CAAC;AACjD,IAAI,IAAI,IAAI,EAAE;AACd,MAAM,IAAI,EAAE,KAAK,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,GAAG,GAAG,CAAC,CAAC,EAAE;AACjF,MAAM,MAAM,CAAC,EAAE,EAAE;AACjB,KAAK,MAAM;AACX,MAAM,KAAK,GAAG,WAAW,CAAC,KAAK,EAAC;AAChC,KAAK;AACL,IAAI,IAAI,OAAO,KAAK,IAAI,QAAQ,GAAG,KAAK,IAAI,EAAE,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC;AAC/D,QAAM,KAAK,GAAG,IAAI,GAAC;AACnB,IAAI,OAAO,KAAK,CAAC;AACjB,GAAG;AACH;AACA,EAAE,SAAS,WAAW,CAAC,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE;AACzC,IAAI,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC;AAC5B,IAAI,KAAK,CAAC,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC,CAAC;AACpC,IAAI,EAAE,CAAC,aAAa,CAAC,KAAK,CAAC,OAAO,EAAE,oBAAoB,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;AACvE,IAAI,KAAK,CAAC,OAAO,GAAG,aAAa,CAAC,KAAK,CAAC,KAAK,EAAE,oBAAoB,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;AAClF,IAAI,EAAE,CAAC,UAAU,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;AACjC,IAAI,IAAI,EAAE,CAAC,sBAAsB,EAAE;AACnC,MAAM,IAAI,KAAK,CAAC,QAAQ,EAAE,EAAE,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,CAAC,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,EAAE;AAC5E,MAAM,KAAK,CAAC,QAAQ,GAAG,EAAE,CAAC,sBAAsB,CAAC,KAAK,CAAC,KAAK,EAAE,oBAAoB,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;AACjG,KAAK;AACL,GAAG;AACH;AACA,EAAE,SAAS,QAAQ,CAAC,EAAE,EAAE,GAAG,EAAE,UAAU,EAAE,SAAS,EAAE;AACpD,IAAI,IAAI,KAAK,GAAG,cAAc,CAAC,EAAE,CAAC,CAAC;AACnC,IAAI,IAAI,KAAK,CAAC,KAAK,IAAE,OAAO,QAAQ,CAAC,EAAE,EAAE,GAAG,CAAC,GAAC;AAC9C,IAAI,IAAI,CAAC,GAAG,EAAE,CAAC,YAAY,EAAE,IAAI,KAAK,CAAC,SAAS,CAAC;AACjD,IAAI,IAAI,CAAC,YAAY,MAAM,IAAI,CAAC,CAAC,MAAM,IAAI,IAAI,IAAE,CAAC,GAAG,OAAI;AACzD,IAAI,IAAI,UAAU,IAAI,EAAE,CAAC,UAAU,EAAE;AACrC,MAAM,IAAI,MAAM,GAAG,KAAI;AACvB,MAAM,IAAI,UAAU,GAAG,SAAS,KAAK,EAAE,KAAK,EAAE;AAC9C,QAAQ,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AACjC,QAAQ,IAAI,CAAC,KAAK,IAAE,SAAO;AAC3B,QAAQ,IAAI,KAAK,IAAI,KAAK,CAAC,SAAS,EAAE;AACtC,UAAU,WAAW,CAAC,EAAE,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;AACxC,UAAU,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC,KAAK,GAAG,EAAE,CAAC,SAAS,EAAE,CAAC;AACvD,SAAS;AACT,QAAQ,IAAI,MAAM,IAAE,MAAM,CAAC,KAAK,CAAC,OAAO,GAAG,IAAC;AAC5C,QAAQ,QAAQ,CAAC,EAAE,EAAE,KAAK,CAAC,QAAQ,EAAE,SAAS,CAAC,EAAE,EAAE,EAAE;AACrD,UAAU,IAAI,OAAM;AACpB,UAAU,IAAI,EAAE,CAAC,IAAI,GAAG,CAAC,IAAI,QAAQ,CAAC,aAAa;AACnD,eAAe,MAAM,GAAG,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,aAAa,CAAC,oBAAoB,CAAC,CAAC;AAC/E,cAAc,MAAM,CAAC,qBAAqB,EAAE,CAAC,MAAM,GAAG,CAAC,GAAG,EAAE,CAAC,YAAY,CAAC,EAAE,EAAE,QAAQ,CAAC,CAAC,GAAG;AAC3F,cAAY,CAAC,MAAM,GAAG,MAAM,EAAE,KAAK,CAAC,OAAO,GAAG,KAAE;AAChD,SAAS,EAAC;AACV,OAAO,CAAC;AACR,MAAM,gBAAgB,CAAC,EAAE,EAAE,cAAc,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,UAAU,EAAE,SAAS,KAAK,EAAE,KAAK,EAAE;AACrF,QAAQ,IAAI,OAAO,GAAG,UAAU,CAAC,OAAO,CAAC,KAAK,EAAC;AAC/C,QAAQ,IAAI,KAAK,GAAG,EAAE,CAAC,SAAS,CAAC,WAAW,CAAC,EAAE,GAAG,GAAG,CAAC,KAAK,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC,OAAO,EAAC;AACpI,QAAQ,IAAI,GAAG,IAAI,UAAU,IAAI,GAAG,IAAI,UAAU;AAClD,UAAU,GAAG,IAAI,oBAAoB,IAAI,GAAG,IAAI,oBAAoB,EAAE;AACtE,UAAU,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AACnC,UAAU,WAAW,CAAC,EAAE,EAAE,cAAc,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;AACrD,UAAU,EAAE,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;AAC9B,SAAS,MAAM,IAAI,GAAG,IAAI,MAAM,IAAI,GAAG,IAAI,gBAAgB,EAAE;AAC7D,UAAU,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AACnC,UAAU,UAAU,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;AACnC,SAAS;AACT,OAAO,CAAC,CAAC;AACT,MAAM,IAAI,SAAS,IAAI,CAAC,EAAE;AAC1B,QAAQ,WAAW,CAAC,EAAE,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;AAClC,QAAQ,QAAQ,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC;AAC1B,OAAO;AACP,KAAK,MAAM;AACX,MAAM,MAAM,CAAC,EAAE,EAAE,cAAc,CAAC,EAAE,CAAC,EAAE,aAAa,EAAE,CAAC,EAAE,SAAS,KAAK,EAAE;AACvE,QAAQ,IAAI,KAAK,IAAI,CAAC,KAAK,CAAC,KAAK,IAAE,EAAE,CAAC,SAAS,CAAC,WAAW;AAC3D,UAAU,WAAW,CAAC,EAAE,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;AACxC,UAAU,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC,KAAK,GAAG,EAAE,CAAC,SAAS,EAAE,CAAC;AACvD,UAAU,QAAQ,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC;AAC5B,SAAS,CAAC,GAAC;AACX,OAAO,CAAC,CAAC;AACT,KAAK;AACL,GAAG;AACH;AACA,EAAE,SAAS,QAAQ,CAAC,EAAE,EAAE,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE,CAAC,SAAS,CAAC,WAAW;AAChE,IAAI,IAAI,KAAK,GAAG,cAAc,CAAC,EAAE,CAAC,CAAC;AACnC,IAAI,IAAI,MAAM,GAAG,eAAe,CAAC,EAAE,EAAE,KAAK,CAAC,KAAK,EAAE,GAAG,GAAG,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC;AACrF,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;AAC3B,MAAM,MAAM,GAAG,eAAe,CAAC,EAAE,EAAE,KAAK,CAAC,KAAK,EAAE,GAAG,GAAG,UAAU,CAAC,GAAG,CAAC,EAAE,CAAC,QAAQ,EAAE,CAAC,GAAG,UAAU,CAAC,GAAG,CAAC,EAAE,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;AACzH,MAAM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,IAAE,SAAO;AACpC,KAAK;AACL,IAAI,EAAE,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,EAAE,EAAE,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AAChD,IAAI,EAAE,CAAC,cAAc,CAAC,CAAC,IAAI,EAAE,MAAM,CAAC,IAAI,EAAE,EAAE,EAAE,EAAE,MAAM,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;AAClE,IAAI,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC,EAAE,EAAE,CAAC;AAC7D,IAAI,IAAI,QAAQ,IAAE,QAAQ,CAAC,MAAM,CAAC,IAAI,EAAE,EAAE,MAAM,CAAC,EAAE,EAAE,IAAC;AACtD,GAAG,CAAC,CAAC,CAAC;AACN;AACA,EAAE,SAAS,WAAW,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,SAAS,CAAC,WAAW;AACpD,IAAI,IAAI,KAAK,GAAG,cAAc,CAAC,EAAE,CAAC,CAAC;AACnC,IAAI,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC,KAAK,CAAC;AAClC,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,IAAE,SAAO;AAC7B,IAAI,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC;AACzC,IAAI,EAAE,CAAC,aAAa,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;AACpC,IAAI,IAAI,KAAK,CAAC,QAAQ,EAAE,EAAE,KAAK,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,CAAC,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,EAAE;AAC1E,GAAG,CAAC,CAAC,CAAC;AACN;AACA;AACA,EAAE,SAAS,cAAc,CAAC,EAAE,GAAG;AAC/B,IAAI,OAAO,wCAAwC,GAAG,EAAE,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,4IAA4I,GAAG,EAAE,CAAC,MAAM,CAAC,qCAAqC,CAAC,GAAG,SAAS,CAAC;AACzR,GAAG;AACH,EAAE,SAAS,qBAAqB,CAAC,EAAE,EAAE;AACrC,IAAI,OAAO,qIAAqI,GAAG,EAAE,CAAC,MAAM,CAAC,qCAAqC,CAAC,GAAG,SAAS,CAAC;AAChN,GAAG;AACH,EAAE,SAAS,yBAAyB,CAAC,EAAE,EAAE;AACzC,IAAI,OAAO,wCAAwC,GAAG,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,kFAAkF,CAAC;AAC9J,GAAG;AACH,EAAE,SAAS,mBAAmB,CAAC,EAAE,EAAE;AACnC,IAAI,OAAO,wCAAwC,GAAG,EAAE,CAAC,MAAM,CAAC,UAAU,CAAC,GAAG,kBAAkB,GAAG,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,oBAAoB,GAAG,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,oBAAoB,GAAG,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,oBAAoB,GAAG,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,YAAY,CAAC;AACjQ,GAAG;AACH;AACA,EAAE,SAAS,UAAU,CAAC,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE;AACvC,IAAI,EAAE,CAAC,SAAS,CAAC,WAAW;AAC5B,MAAM,KAAK,IAAI,MAAM,GAAG,eAAe,CAAC,EAAE,EAAE,KAAK,CAAC,EAAE,MAAM,CAAC,QAAQ,EAAE,GAAG;AACxE,QAAQ,IAAI,OAAO,KAAK,IAAI,QAAQ,EAAE;AACtC,UAAU,IAAI,KAAK,GAAG,EAAE,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,EAAE,EAAE,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;AAC3E,UAAU,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,SAAS,CAAC,EAAE,CAAC,EAAE,CAAC,OAAO,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACrF,SAAS,QAAM,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,GAAC;AACpC,OAAO;AACP,KAAK,CAAC,CAAC;AACP,GAAG;AACH;AACA,EAAE,SAAS,OAAO,CAAC,EAAE,EAAE,GAAG,EAAE;AAC5B,IAAI,IAAI,EAAE,CAAC,SAAS,CAAC,UAAU,CAAC,IAAE,SAAO;AACzC,IAAI,IAAI,KAAK,GAAG,EAAE,CAAC,YAAY,EAAE,IAAI,cAAc,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC;AAClE,IAAI,IAAI,UAAU,GAAG,wCAAwC,IAAI,GAAG,GAAG,EAAE,CAAC,MAAM,CAAC,cAAc,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,GAAG,SAAS,CAAC;AACtI,IAAI,MAAM,CAAC,EAAE,EAAE,UAAU,GAAG,qBAAqB,CAAC,EAAE,CAAC,EAAE,UAAU,EAAE,KAAK,EAAE,SAAS,KAAK,EAAE;AAC1F,MAAM,IAAI,CAAC,KAAK,IAAE,SAAO;AACzB,MAAM,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC,CAAC;AAChC,MAAM,MAAM,CAAC,EAAE,EAAE,yBAAyB,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,MAAM,CAAC,eAAe,CAAC,EAAE,EAAE,EAAE,SAAS,IAAI,EAAE;AAC/F,QAAQ,IAAI,GAAG,WAAW,CAAC,IAAI,EAAC;AAChC,QAAQ,IAAI,GAAG,EAAE;AACjB,UAAU,UAAU,CAAC,EAAE,EAAE,KAAK,EAAE,IAAI,EAAC;AACrC,SAAS,MAAM;AACf,UAAU,WAAW,CAAC,EAAE,CAAC,CAAC;AAC1B,UAAU,IAAI,MAAM,GAAG,eAAe,CAAC,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC;AACxE,UAAU,IAAI,OAAO,GAAG,WAAW;AACnC,YAAY,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,EAAE,EAAE,KAAK,CAAC;AAC7C,YAAY,IAAI,EAAE,KAAK,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC,EAAE;AAC9C,cAAc,MAAM,GAAG,eAAe,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;AAClD,cAAc,IAAI,EAAE,KAAK,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;AAC9C,mBAAmB,KAAK,IAAI,MAAM,CAAC,IAAI,EAAE,CAAC,IAAI,IAAI,KAAK,CAAC,IAAI,IAAI,MAAM,CAAC,IAAI,EAAE,CAAC,EAAE,IAAI,KAAK,CAAC,EAAE,CAAC,IAAE,SAAO;AACtG,aAAa;AACb,YAAY,EAAE,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,EAAE,EAAE,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;AACxD,YAAY,EAAE,CAAC,cAAc,CAAC,CAAC,IAAI,EAAE,MAAM,CAAC,IAAI,EAAE,EAAE,EAAE,EAAE,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;AACtE,YAAY,aAAa,CAAC,EAAE,EAAE,mBAAmB,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,MAAM,CAAC,UAAU,CAAC;AAC5E,cAAc,CAAC,WAAW,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,OAAO;AACtD,gBAAgB,WAAW,CAAC,UAAU,CAAC,EAAE,EAAE,KAAK,EAAE,IAAI,EAAC,CAAC,CAAC,CAAC,CAAC;AAC3D,WAAW,CAAC;AACZ,UAAU,IAAI,SAAS,GAAG,SAAS,KAAK,EAAE;AAC1C,YAAY,MAAM,CAAC,OAAO,CAAC,OAAO,KAAK,IAAI,QAAQ,GAAG,IAAI;AAC1D,cAAc,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,SAAS,CAAC,EAAE,CAAC,EAAE,CAAC,OAAO,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1E,YAAY,OAAO,EAAE,CAAC;AACtB,WAAW,CAAC;AACZ,UAAU,OAAO,EAAE,CAAC;AACpB,SAAS;AACT,OAAO,CAAC,CAAC;AACT,KAAK,CAAC,CAAC;AACP,GAAG;AACH;AACA,EAAE,UAAU,CAAC,QAAQ,CAAC,IAAI,GAAG,SAAS,EAAE,EAAE,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAC3E,EAAE,UAAU,CAAC,QAAQ,CAAC,cAAc,GAAG,SAAS,EAAE,EAAE,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;AAClG,EAAE,UAAU,CAAC,QAAQ,CAAC,kBAAkB,GAAG,SAAS,EAAE,EAAE,CAAC,QAAQ,CAAC,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;AAC3F,EAAE,UAAU,CAAC,QAAQ,CAAC,kBAAkB,GAAG,SAAS,EAAE,EAAE,CAAC,QAAQ,CAAC,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;AAC1F,EAAE,UAAU,CAAC,QAAQ,CAAC,QAAQ,GAAG,QAAQ,CAAC;AAC1C,EAAE,UAAU,CAAC,QAAQ,CAAC,QAAQ,GAAG,SAAS,EAAE,EAAE,CAAC,QAAQ,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;AACpE,EAAE,UAAU,CAAC,QAAQ,CAAC,WAAW,GAAG,WAAW,CAAC;AAChD,EAAE,UAAU,CAAC,QAAQ,CAAC,OAAO,GAAG,OAAO,CAAC;AACxC,EAAE,UAAU,CAAC,QAAQ,CAAC,UAAU,GAAG,SAAS,EAAE,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;AACrE;;;;"}