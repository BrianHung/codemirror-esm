{"version":3,"file":"asciiarmor.js","sources":["../../../../src/mode/asciiarmor/asciiarmor.js"],"sourcesContent":["// Source: https://github.com/codemirror/CodeMirror/tree/master/mode/asciiarmor/asciiarmor.js\nexport default function(CodeMirror) {\n  \"use strict\";\n\n  function errorIfNotEmpty(stream) {\n    var nonWS = stream.match(/^\\s*\\S/);\n    stream.skipToEnd();\n    return nonWS ? \"error\" : null;\n  }\n\n  CodeMirror.defineMode(\"asciiarmor\", function() {\n    return {\n      token: function(stream, state) {\n        var m;\n        if (state.state == \"top\") {\n          if (stream.sol() && (m = stream.match(/^-----BEGIN (.*)?-----\\s*$/))) {\n            state.state = \"headers\";\n            state.type = m[1];\n            return \"tag\";\n          }\n          return errorIfNotEmpty(stream);\n        } else if (state.state == \"headers\") {\n          if (stream.sol() && stream.match(/^\\w+:/)) {\n            state.state = \"header\";\n            return \"atom\";\n          } else {\n            var result = errorIfNotEmpty(stream);\n            if (result) state.state = \"body\";\n            return result;\n          }\n        } else if (state.state == \"header\") {\n          stream.skipToEnd();\n          state.state = \"headers\";\n          return \"string\";\n        } else if (state.state == \"body\") {\n          if (stream.sol() && (m = stream.match(/^-----END (.*)?-----\\s*$/))) {\n            if (m[1] != state.type) return \"error\";\n            state.state = \"end\";\n            return \"tag\";\n          } else {\n            if (stream.eatWhile(/[A-Za-z0-9+\\/=]/)) {\n              return null;\n            } else {\n              stream.next();\n              return \"error\";\n            }\n          }\n        } else if (state.state == \"end\") {\n          return errorIfNotEmpty(stream);\n        }\n      },\n      blankLine: function(state) {\n        if (state.state == \"headers\") state.state = \"body\";\n      },\n      startState: function() {\n        return {state: \"top\", type: null};\n      }\n    };\n  });\n\n  CodeMirror.defineMIME(\"application/pgp\", \"asciiarmor\");\n  CodeMirror.defineMIME(\"application/pgp-encrypted\", \"asciiarmor\");\n  CodeMirror.defineMIME(\"application/pgp-keys\", \"asciiarmor\");\n  CodeMirror.defineMIME(\"application/pgp-signature\", \"asciiarmor\");\n}"],"names":[],"mappings":"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"}