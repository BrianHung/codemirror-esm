{"version":3,"file":"spreadsheet.js","sources":["../../../../src/mode/spreadsheet/spreadsheet.js"],"sourcesContent":["// Source: https://github.com/codemirror/CodeMirror/tree/master/mode/spreadsheet/spreadsheet.js\nexport default function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineMode(\"spreadsheet\", function () {\n    return {\n      startState: function () {\n        return {\n          stringType: null,\n          stack: []\n        };\n      },\n      token: function (stream, state) {\n        if (!stream) return;\n\n        if (state.stack.length === 0) {\n          if ((stream.peek() == '\"') || (stream.peek() == \"'\")) {\n            state.stringType = stream.peek();\n            stream.next(); \n            state.stack.unshift(\"string\");\n          }\n        }\n\n        switch (state.stack[0]) {\n        case \"string\":\n          while (state.stack[0] === \"string\" && !stream.eol()) {\n            if (stream.peek() === state.stringType) {\n              stream.next(); \n              state.stack.shift(); \n            } else if (stream.peek() === \"\\\\\") {\n              stream.next();\n              stream.next();\n            } else {\n              stream.match(/^.[^\\\\\\\"\\']*/);\n            }\n          }\n          return \"string\";\n\n        case \"characterClass\":\n          while (state.stack[0] === \"characterClass\" && !stream.eol()) {\n            if (!(stream.match(/^[^\\]\\\\]+/) || stream.match(/^\\\\./)))\n              state.stack.shift();\n          }\n          return \"operator\";\n        }\n\n        var peek = stream.peek();\n\n        switch (peek) {\n        case \"[\":\n          stream.next();\n          state.stack.unshift(\"characterClass\");\n          return \"bracket\";\n        case \":\":\n          stream.next();\n          return \"operator\";\n        case \"\\\\\":\n          if (stream.match(/\\\\[a-z]+/)) return \"string-2\";\n          else {\n            stream.next();\n            return \"atom\";\n          }\n        case \".\":\n        case \",\":\n        case \";\":\n        case \"*\":\n        case \"-\":\n        case \"+\":\n        case \"^\":\n        case \"<\":\n        case \"/\":\n        case \"=\":\n          stream.next();\n          return \"atom\";\n        case \"$\":\n          stream.next();\n          return \"builtin\";\n        }\n\n        if (stream.match(/\\d+/)) {\n          if (stream.match(/^\\w+/)) return \"error\";\n          return \"number\";\n        } else if (stream.match(/^[a-zA-Z_]\\w*/)) {\n          if (stream.match(/(?=[\\(.])/, false)) return \"keyword\";\n          return \"variable-2\";\n        } else if ([\"[\", \"]\", \"(\", \")\", \"{\", \"}\"].indexOf(peek) != -1) {\n          stream.next();\n          return \"bracket\";\n        } else if (!stream.eatSpace()) {\n          stream.next();\n        }\n        return null;\n      }\n    };\n  });\n\n  CodeMirror.defineMIME(\"text/x-spreadsheet\", \"spreadsheet\");\n}"],"names":[],"mappings":"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"}