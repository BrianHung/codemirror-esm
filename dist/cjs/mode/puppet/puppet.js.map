{"version":3,"file":"puppet.js","sources":["../../../../src/mode/puppet/puppet.js"],"sourcesContent":["// Source: https://github.com/codemirror/CodeMirror/tree/master/mode/puppet/puppet.js\nexport default function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineMode(\"puppet\", function () {\n    var words = {};\n    var variable_regex = /({)?([a-z][a-z0-9_]*)?((::[a-z][a-z0-9_]*)*::)?[a-zA-Z0-9_]+(})?/;\n\n    function define(style, string) {\n      var split = string.split(' ');\n      for (var i = 0; i < split.length; i++) {\n        words[split[i]] = style;\n      }\n    }\n\n    define('keyword', 'class define site node include import inherits');\n    define('keyword', 'case if else in and elsif default or');\n    define('atom', 'false true running present absent file directory undef');\n    define('builtin', 'action augeas burst chain computer cron destination dport exec ' +\n    'file filebucket group host icmp iniface interface jump k5login limit log_level ' +\n    'log_prefix macauthorization mailalias maillist mcx mount nagios_command ' +\n    'nagios_contact nagios_contactgroup nagios_host nagios_hostdependency ' +\n    'nagios_hostescalation nagios_hostextinfo nagios_hostgroup nagios_service ' +\n    'nagios_servicedependency nagios_serviceescalation nagios_serviceextinfo ' +\n    'nagios_servicegroup nagios_timeperiod name notify outiface package proto reject ' +\n    'resources router schedule scheduled_task selboolean selmodule service source ' +\n    'sport ssh_authorized_key sshkey stage state table tidy todest toports tosource ' +\n    'user vlan yumrepo zfs zone zpool');\n\n    function tokenString(stream, state) {\n      var current, prev, found_var = false;\n      while (!stream.eol() && (current = stream.next()) != state.pending) {\n        if (current === '$' && prev != '\\\\' && state.pending == '\"') {\n          found_var = true;\n          break;\n        }\n        prev = current;\n      }\n      if (found_var) {\n        stream.backUp(1);\n      }\n      if (current == state.pending) {\n        state.continueString = false;\n      } else {\n        state.continueString = true;\n      }\n      return \"string\";\n    }\n\n    function tokenize(stream, state) {\n      var word = stream.match(/[\\w]+/, false);\n      var attribute = stream.match(/(\\s+)?\\w+\\s+=>.*/, false);\n      var resource = stream.match(/(\\s+)?[\\w:_]+(\\s+)?{/, false);\n      var special_resource = stream.match(/(\\s+)?[@]{1,2}[\\w:_]+(\\s+)?{/, false);\n\n      var ch = stream.next();\n\n      if (ch === '$') {\n        if (stream.match(variable_regex)) {\n          return state.continueString ? 'variable-2' : 'variable';\n        }\n        return \"error\";\n      }\n      if (state.continueString) {\n        stream.backUp(1);\n        return tokenString(stream, state);\n      }\n      if (state.inDefinition) {\n        if (stream.match(/(\\s+)?[\\w:_]+(\\s+)?/)) {\n          return 'def';\n        }\n        stream.match(/\\s+{/);\n        state.inDefinition = false;\n      }\n      if (state.inInclude) {\n        stream.match(/(\\s+)?\\S+(\\s+)?/);\n        state.inInclude = false;\n        return 'def';\n      }\n      if (stream.match(/(\\s+)?\\w+\\(/)) {\n        stream.backUp(1);\n        return 'def';\n      }\n      if (attribute) {\n        stream.match(/(\\s+)?\\w+/);\n        return 'tag';\n      }\n      if (word && words.hasOwnProperty(word)) {\n        stream.backUp(1);\n        stream.match(/[\\w]+/);\n        if (stream.match(/\\s+\\S+\\s+{/, false)) {\n          state.inDefinition = true;\n        }\n        if (word == 'include') {\n          state.inInclude = true;\n        }\n        return words[word];\n      }\n      if (/(^|\\s+)[A-Z][\\w:_]+/.test(word)) {\n        stream.backUp(1);\n        stream.match(/(^|\\s+)[A-Z][\\w:_]+/);\n        return 'def';\n      }\n      if (resource) {\n        stream.match(/(\\s+)?[\\w:_]+/);\n        return 'def';\n      }\n      if (special_resource) {\n        stream.match(/(\\s+)?[@]{1,2}/);\n        return 'special';\n      }\n      if (ch == \"#\") {\n        stream.skipToEnd();\n        return \"comment\";\n      }\n      if (ch == \"'\" || ch == '\"') {\n        state.pending = ch;\n        return tokenString(stream, state);\n      }\n      if (ch == '{' || ch == '}') {\n        return 'bracket';\n      }\n      if (ch == '/') {\n        stream.match(/.*?\\//);\n        return 'variable-3';\n      }\n      if (ch.match(/[0-9]/)) {\n        stream.eatWhile(/[0-9]+/);\n        return 'number';\n      }\n      if (ch == '=') {\n        if (stream.peek() == '>') {\n          stream.next();\n        }\n        return \"operator\";\n      }\n      stream.eatWhile(/[\\w-]/);\n      return null;\n    }\n    return {\n      startState: function () {\n        var state = {};\n        state.inDefinition = false;\n        state.inInclude = false;\n        state.continueString = false;\n        state.pending = false;\n        return state;\n      },\n      token: function (stream, state) {\n        if (stream.eatSpace()) return null;\n        return tokenize(stream, state);\n      }\n    };\n  });\n\n  CodeMirror.defineMIME(\"text/x-puppet\", \"puppet\");\n\n}"],"names":[],"mappings":"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"}