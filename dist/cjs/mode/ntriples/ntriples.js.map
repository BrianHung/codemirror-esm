{"version":3,"file":"ntriples.js","sources":["../../../../src/mode/ntriples/ntriples.js"],"sourcesContent":["// Source: https://github.com/codemirror/CodeMirror/tree/master/mode/ntriples/ntriples.js\nexport default function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineMode(\"ntriples\", function() {\n\n    var Location = {\n      PRE_SUBJECT         : 0,\n      WRITING_SUB_URI     : 1,\n      WRITING_BNODE_URI   : 2,\n      PRE_PRED            : 3,\n      WRITING_PRED_URI    : 4,\n      PRE_OBJ             : 5,\n      WRITING_OBJ_URI     : 6,\n      WRITING_OBJ_BNODE   : 7,\n      WRITING_OBJ_LITERAL : 8,\n      WRITING_LIT_LANG    : 9,\n      WRITING_LIT_TYPE    : 10,\n      POST_OBJ            : 11,\n      ERROR               : 12\n    };\n    function transitState(currState, c) {\n      var currLocation = currState.location;\n      var ret;\n\n      if     (currLocation == Location.PRE_SUBJECT && c == '<') ret = Location.WRITING_SUB_URI;\n      else if(currLocation == Location.PRE_SUBJECT && c == '_') ret = Location.WRITING_BNODE_URI;\n      else if(currLocation == Location.PRE_PRED    && c == '<') ret = Location.WRITING_PRED_URI;\n      else if(currLocation == Location.PRE_OBJ     && c == '<') ret = Location.WRITING_OBJ_URI;\n      else if(currLocation == Location.PRE_OBJ     && c == '_') ret = Location.WRITING_OBJ_BNODE;\n      else if(currLocation == Location.PRE_OBJ     && c == '\"') ret = Location.WRITING_OBJ_LITERAL;\n\n      else if(currLocation == Location.WRITING_SUB_URI     && c == '>') ret = Location.PRE_PRED;\n      else if(currLocation == Location.WRITING_BNODE_URI   && c == ' ') ret = Location.PRE_PRED;\n      else if(currLocation == Location.WRITING_PRED_URI    && c == '>') ret = Location.PRE_OBJ;\n      else if(currLocation == Location.WRITING_OBJ_URI     && c == '>') ret = Location.POST_OBJ;\n      else if(currLocation == Location.WRITING_OBJ_BNODE   && c == ' ') ret = Location.POST_OBJ;\n      else if(currLocation == Location.WRITING_OBJ_LITERAL && c == '\"') ret = Location.POST_OBJ;\n      else if(currLocation == Location.WRITING_LIT_LANG && c == ' ') ret = Location.POST_OBJ;\n      else if(currLocation == Location.WRITING_LIT_TYPE && c == '>') ret = Location.POST_OBJ;\n\n      else if(currLocation == Location.WRITING_OBJ_LITERAL && c == '@') ret = Location.WRITING_LIT_LANG;\n      else if(currLocation == Location.WRITING_OBJ_LITERAL && c == '^') ret = Location.WRITING_LIT_TYPE;\n\n      else if( c == ' ' &&\n             (\n               currLocation == Location.PRE_SUBJECT ||\n               currLocation == Location.PRE_PRED    ||\n               currLocation == Location.PRE_OBJ     ||\n               currLocation == Location.POST_OBJ\n             )\n      ) ret = currLocation;\n\n      else if(currLocation == Location.POST_OBJ && c == '.') ret = Location.PRE_SUBJECT;\n\n      else ret = Location.ERROR;\n\n      currState.location=ret;\n    }\n\n    return {\n      startState: function() {\n        return {\n          location : Location.PRE_SUBJECT,\n          uris     : [],\n          anchors  : [],\n          bnodes   : [],\n          langs    : [],\n          types    : []\n        };\n      },\n      token: function(stream, state) {\n        var ch = stream.next();\n        if(ch == '<') {\n          transitState(state, ch);\n          var parsedURI = '';\n          stream.eatWhile( function(c) { if( c != '#' && c != '>' ) { parsedURI += c; return true; } return false;} );\n          state.uris.push(parsedURI);\n          if( stream.match('#', false) ) return 'variable';\n          stream.next();\n          transitState(state, '>');\n          return 'variable';\n        }\n        if(ch == '#') {\n          var parsedAnchor = '';\n          stream.eatWhile(function(c) { if(c != '>' && c != ' ') { parsedAnchor+= c; return true; } return false;});\n          state.anchors.push(parsedAnchor);\n          return 'variable-2';\n        }\n        if(ch == '>') {\n          transitState(state, '>');\n          return 'variable';\n        }\n        if(ch == '_') {\n          transitState(state, ch);\n          var parsedBNode = '';\n          stream.eatWhile(function(c) { if( c != ' ' ) { parsedBNode += c; return true; } return false;});\n          state.bnodes.push(parsedBNode);\n          stream.next();\n          transitState(state, ' ');\n          return 'builtin';\n        }\n        if(ch == '\"') {\n          transitState(state, ch);\n          stream.eatWhile( function(c) { return c != '\"'; } );\n          stream.next();\n          if( stream.peek() != '@' && stream.peek() != '^' ) {\n            transitState(state, '\"');\n          }\n          return 'string';\n        }\n        if( ch == '@' ) {\n          transitState(state, '@');\n          var parsedLang = '';\n          stream.eatWhile(function(c) { if( c != ' ' ) { parsedLang += c; return true; } return false;});\n          state.langs.push(parsedLang);\n          stream.next();\n          transitState(state, ' ');\n          return 'string-2';\n        }\n        if( ch == '^' ) {\n          stream.next();\n          transitState(state, '^');\n          var parsedType = '';\n          stream.eatWhile(function(c) { if( c != '>' ) { parsedType += c; return true; } return false;} );\n          state.types.push(parsedType);\n          stream.next();\n          transitState(state, '>');\n          return 'variable';\n        }\n        if( ch == ' ' ) {\n          transitState(state, ch);\n        }\n        if( ch == '.' ) {\n          transitState(state, ch);\n        }\n      }\n    };\n  });\n\n  CodeMirror.defineMIME(\"application/n-triples\", \"ntriples\");\n\n  CodeMirror.defineMIME(\"application/n-quads\", \"ntriples\");\n\n  CodeMirror.defineMIME(\"text/n-triples\", \"ntriples\");\n\n}"],"names":[],"mappings":"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"}