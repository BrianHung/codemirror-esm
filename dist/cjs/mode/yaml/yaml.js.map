{"version":3,"file":"yaml.js","sources":["../../../../src/mode/yaml/yaml.js"],"sourcesContent":["// Source: https://github.com/codemirror/CodeMirror/tree/master/mode/yaml/yaml.js\nexport default function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineMode(\"yaml\", function() {\n\n    var cons = ['true', 'false', 'on', 'off', 'yes', 'no'];\n    var keywordRegex = new RegExp(\"\\\\b((\"+cons.join(\")|(\")+\"))$\", 'i');\n\n    return {\n      token: function(stream, state) {\n        var ch = stream.peek();\n        var esc = state.escaped;\n        state.escaped = false;\n        if (ch == \"#\" && (stream.pos == 0 || /\\s/.test(stream.string.charAt(stream.pos - 1)))) {\n          stream.skipToEnd();\n          return \"comment\";\n        }\n\n        if (stream.match(/^('([^']|\\\\.)*'?|\"([^\"]|\\\\.)*\"?)/))\n          return \"string\";\n\n        if (state.literal && stream.indentation() > state.keyCol) {\n          stream.skipToEnd(); return \"string\";\n        } else if (state.literal) { state.literal = false; }\n        if (stream.sol()) {\n          state.keyCol = 0;\n          state.pair = false;\n          state.pairStart = false;\n          if(stream.match(/---/)) { return \"def\"; }\n          if (stream.match(/\\.\\.\\./)) { return \"def\"; }\n          if (stream.match(/\\s*-\\s+/)) { return 'meta'; }\n        }\n        if (stream.match(/^(\\{|\\}|\\[|\\])/)) {\n          if (ch == '{')\n            state.inlinePairs++;\n          else if (ch == '}')\n            state.inlinePairs--;\n          else if (ch == '[')\n            state.inlineList++;\n          else\n            state.inlineList--;\n          return 'meta';\n        }\n\n        if (state.inlineList > 0 && !esc && ch == ',') {\n          stream.next();\n          return 'meta';\n        }\n        if (state.inlinePairs > 0 && !esc && ch == ',') {\n          state.keyCol = 0;\n          state.pair = false;\n          state.pairStart = false;\n          stream.next();\n          return 'meta';\n        }\n\n        if (state.pairStart) {\n          if (stream.match(/^\\s*(\\||\\>)\\s*/)) { state.literal = true; return 'meta'; };\n          if (stream.match(/^\\s*(\\&|\\*)[a-z0-9\\._-]+\\b/i)) { return 'variable-2'; }\n          if (state.inlinePairs == 0 && stream.match(/^\\s*-?[0-9\\.\\,]+\\s?$/)) { return 'number'; }\n          if (state.inlinePairs > 0 && stream.match(/^\\s*-?[0-9\\.\\,]+\\s?(?=(,|}))/)) { return 'number'; }\n          if (stream.match(keywordRegex)) { return 'keyword'; }\n        }\n\n        if (!state.pair && stream.match(/^\\s*(?:[,\\[\\]{}&*!|>'\"%@`][^\\s'\":]|[^,\\[\\]{}#&*!|>'\"%@`])[^#]*?(?=\\s*:($|\\s))/)) {\n          state.pair = true;\n          state.keyCol = stream.indentation();\n          return \"atom\";\n        }\n        if (state.pair && stream.match(/^:\\s*/)) { state.pairStart = true; return 'meta'; }\n\n        state.pairStart = false;\n        state.escaped = (ch == '\\\\');\n        stream.next();\n        return null;\n      },\n      startState: function() {\n        return {\n          pair: false,\n          pairStart: false,\n          keyCol: 0,\n          inlinePairs: 0,\n          inlineList: 0,\n          literal: false,\n          escaped: false\n        };\n      },\n      lineComment: \"#\",\n      fold: \"indent\"\n    };\n  });\n\n  CodeMirror.defineMIME(\"text/x-yaml\", \"yaml\");\n  CodeMirror.defineMIME(\"text/yaml\", \"yaml\");\n\n}"],"names":[],"mappings":"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"}