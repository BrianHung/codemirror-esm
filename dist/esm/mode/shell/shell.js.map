{"version":3,"file":"shell.js","sources":["../../../../src/mode/shell/shell.js"],"sourcesContent":["// Source: https://github.com/codemirror/CodeMirror/tree/master/mode/shell/shell.js\nexport default function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineMode('shell', function() {\n\n    var words = {};\n    function define(style, dict) {\n      for(var i = 0; i < dict.length; i++) {\n        words[dict[i]] = style;\n      }\n    };\n\n    var commonAtoms = [\"true\", \"false\"];\n    var commonKeywords = [\"if\", \"then\", \"do\", \"else\", \"elif\", \"while\", \"until\", \"for\", \"in\", \"esac\", \"fi\",\n      \"fin\", \"fil\", \"done\", \"exit\", \"set\", \"unset\", \"export\", \"function\"];\n    var commonCommands = [\"ab\", \"awk\", \"bash\", \"beep\", \"cat\", \"cc\", \"cd\", \"chown\", \"chmod\", \"chroot\", \"clear\",\n      \"cp\", \"curl\", \"cut\", \"diff\", \"echo\", \"find\", \"gawk\", \"gcc\", \"get\", \"git\", \"grep\", \"hg\", \"kill\", \"killall\",\n      \"ln\", \"ls\", \"make\", \"mkdir\", \"openssl\", \"mv\", \"nc\", \"nl\", \"node\", \"npm\", \"ping\", \"ps\", \"restart\", \"rm\",\n      \"rmdir\", \"sed\", \"service\", \"sh\", \"shopt\", \"shred\", \"source\", \"sort\", \"sleep\", \"ssh\", \"start\", \"stop\",\n      \"su\", \"sudo\", \"svn\", \"tee\", \"telnet\", \"top\", \"touch\", \"vi\", \"vim\", \"wall\", \"wc\", \"wget\", \"who\", \"write\",\n      \"yes\", \"zsh\"];\n\n    CodeMirror.registerHelper(\"hintWords\", \"shell\", commonAtoms.concat(commonKeywords, commonCommands));\n\n    define('atom', commonAtoms);\n    define('keyword', commonKeywords);\n    define('builtin', commonCommands);\n\n    function tokenBase(stream, state) {\n      if (stream.eatSpace()) return null;\n\n      var sol = stream.sol();\n      var ch = stream.next();\n\n      if (ch === '\\\\') {\n        stream.next();\n        return null;\n      }\n      if (ch === '\\'' || ch === '\"' || ch === '`') {\n        state.tokens.unshift(tokenString(ch, ch === \"`\" ? \"quote\" : \"string\"));\n        return tokenize(stream, state);\n      }\n      if (ch === '#') {\n        if (sol && stream.eat('!')) {\n          stream.skipToEnd();\n          return 'meta'; \n        }\n        stream.skipToEnd();\n        return 'comment';\n      }\n      if (ch === '$') {\n        state.tokens.unshift(tokenDollar);\n        return tokenize(stream, state);\n      }\n      if (ch === '+' || ch === '=') {\n        return 'operator';\n      }\n      if (ch === '-') {\n        stream.eat('-');\n        stream.eatWhile(/\\w/);\n        return 'attribute';\n      }\n      if (ch == \"<\") {\n        var heredoc = stream.match(/^<-?\\s*['\"]?([^'\"]*)['\"]?/)\n        if (heredoc) {\n          state.tokens.unshift(tokenHeredoc(heredoc[1]))\n          return 'string-2'\n        }\n      }\n      if (/\\d/.test(ch)) {\n        stream.eatWhile(/\\d/);\n        if(stream.eol() || !/\\w/.test(stream.peek())) {\n          return 'number';\n        }\n      }\n      stream.eatWhile(/[\\w-]/);\n      var cur = stream.current();\n      if (stream.peek() === '=' && /\\w+/.test(cur)) return 'def';\n      return words.hasOwnProperty(cur) ? words[cur] : null;\n    }\n\n    function tokenString(quote, style) {\n      var close = quote == \"(\" ? \")\" : quote == \"{\" ? \"}\" : quote\n      return function(stream, state) {\n        var next, escaped = false;\n        while ((next = stream.next()) != null) {\n          if (next === close && !escaped) {\n            state.tokens.shift();\n            break;\n          } else if (next === '$' && !escaped && quote !== \"'\" && stream.peek() != close) {\n            escaped = true;\n            stream.backUp(1);\n            state.tokens.unshift(tokenDollar);\n            break;\n          } else if (!escaped && quote !== close && next === quote) {\n            state.tokens.unshift(tokenString(quote, style))\n            return tokenize(stream, state)\n          } else if (!escaped && /['\"]/.test(next) && !/['\"]/.test(quote)) {\n            state.tokens.unshift(tokenStringStart(next, \"string\"));\n            stream.backUp(1);\n            break;\n          }\n          escaped = !escaped && next === '\\\\';\n        }\n        return style;\n      };\n    };\n\n    function tokenStringStart(quote, style) {\n      return function(stream, state) {\n        state.tokens[0] = tokenString(quote, style)\n        stream.next()\n        return tokenize(stream, state)\n      }\n    }\n\n    var tokenDollar = function(stream, state) {\n      if (state.tokens.length > 1) stream.eat('$');\n      var ch = stream.next()\n      if (/['\"({]/.test(ch)) {\n        state.tokens[0] = tokenString(ch, ch == \"(\" ? \"quote\" : ch == \"{\" ? \"def\" : \"string\");\n        return tokenize(stream, state);\n      }\n      if (!/\\d/.test(ch)) stream.eatWhile(/\\w/);\n      state.tokens.shift();\n      return 'def';\n    };\n\n    function tokenHeredoc(delim) {\n      return function(stream, state) {\n        if (stream.sol() && stream.string == delim) state.tokens.shift()\n        stream.skipToEnd()\n        return \"string-2\"\n      }\n    }\n\n    function tokenize(stream, state) {\n      return (state.tokens[0] || tokenBase) (stream, state);\n    };\n\n    return {\n      startState: function() {return {tokens:[]};},\n      token: function(stream, state) {\n        return tokenize(stream, state);\n      },\n      closeBrackets: \"()[]{}''\\\"\\\"``\",\n      lineComment: '#',\n      fold: \"brace\"\n    };\n  });\n\n  CodeMirror.defineMIME('text/x-sh', 'shell');\n  CodeMirror.defineMIME('application/x-sh', 'shell');\n\n}"],"names":[],"mappings":"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"}