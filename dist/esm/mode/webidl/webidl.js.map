{"version":3,"file":"webidl.js","sources":["../../../../src/mode/webidl/webidl.js"],"sourcesContent":["// Source: https://github.com/codemirror/CodeMirror/tree/master/mode/webidl/webidl.js\nexport default function(CodeMirror) {\n  \"use strict\";\n\n  function wordRegexp(words) {\n    return new RegExp(\"^((\" + words.join(\")|(\") + \"))\\\\b\");\n  };\n\n  var builtinArray = [\n    \"Clamp\",\n    \"Constructor\",\n    \"EnforceRange\",\n    \"Exposed\",\n    \"ImplicitThis\",\n    \"Global\", \"PrimaryGlobal\",\n    \"LegacyArrayClass\",\n    \"LegacyUnenumerableNamedProperties\",\n    \"LenientThis\",\n    \"NamedConstructor\",\n    \"NewObject\",\n    \"NoInterfaceObject\",\n    \"OverrideBuiltins\",\n    \"PutForwards\",\n    \"Replaceable\",\n    \"SameObject\",\n    \"TreatNonObjectAsNull\",\n    \"TreatNullAs\",\n    \"EmptyString\",\n    \"Unforgeable\",\n    \"Unscopeable\"\n  ];\n  var builtins = wordRegexp(builtinArray);\n\n  var typeArray = [\n    \"unsigned\", \"short\", \"long\",                  \n    \"unrestricted\", \"float\", \"double\",            \n    \"boolean\", \"byte\", \"octet\",                   \n    \"Promise\",                                    \n    \"ArrayBuffer\", \"DataView\", \"Int8Array\", \"Int16Array\", \"Int32Array\",\n    \"Uint8Array\", \"Uint16Array\", \"Uint32Array\", \"Uint8ClampedArray\",\n    \"Float32Array\", \"Float64Array\",               \n    \"ByteString\", \"DOMString\", \"USVString\", \"sequence\", \"object\", \"RegExp\",\n    \"Error\", \"DOMException\", \"FrozenArray\",       \n    \"any\",                                        \n    \"void\"                                        \n  ];\n  var types = wordRegexp(typeArray);\n\n  var keywordArray = [\n    \"attribute\", \"callback\", \"const\", \"deleter\", \"dictionary\", \"enum\", \"getter\",\n    \"implements\", \"inherit\", \"interface\", \"iterable\", \"legacycaller\", \"maplike\",\n    \"partial\", \"required\", \"serializer\", \"setlike\", \"setter\", \"static\",\n    \"stringifier\", \"typedef\",                     \n    \"optional\", \"readonly\", \"or\"\n  ];\n  var keywords = wordRegexp(keywordArray);\n\n  var atomArray = [\n    \"true\", \"false\",                              \n    \"Infinity\", \"NaN\",                            \n    \"null\"                                        \n  ];\n  var atoms = wordRegexp(atomArray);\n\n  CodeMirror.registerHelper(\"hintWords\", \"webidl\",\n    builtinArray.concat(typeArray).concat(keywordArray).concat(atomArray));\n\n  var startDefArray = [\"callback\", \"dictionary\", \"enum\", \"interface\"];\n  var startDefs = wordRegexp(startDefArray);\n\n  var endDefArray = [\"typedef\"];\n  var endDefs = wordRegexp(endDefArray);\n\n  var singleOperators = /^[:<=>?]/;\n  var integers = /^-?([1-9][0-9]*|0[Xx][0-9A-Fa-f]+|0[0-7]*)/;\n  var floats = /^-?(([0-9]+\\.[0-9]*|[0-9]*\\.[0-9]+)([Ee][+-]?[0-9]+)?|[0-9]+[Ee][+-]?[0-9]+)/;\n  var identifiers = /^_?[A-Za-z][0-9A-Z_a-z-]*/;\n  var identifiersEnd = /^_?[A-Za-z][0-9A-Z_a-z-]*(?=\\s*;)/;\n  var strings = /^\"[^\"]*\"/;\n  var multilineComments = /^\\/\\*.*?\\*\\//;\n  var multilineCommentsStart = /^\\/\\*.*/;\n  var multilineCommentsEnd = /^.*?\\*\\//;\n\n  function readToken(stream, state) {\n    if (stream.eatSpace()) return null;\n\n    if (state.inComment) {\n      if (stream.match(multilineCommentsEnd)) {\n        state.inComment = false;\n        return \"comment\";\n      }\n      stream.skipToEnd();\n      return \"comment\";\n    }\n    if (stream.match(\"//\")) {\n      stream.skipToEnd();\n      return \"comment\";\n    }\n    if (stream.match(multilineComments)) return \"comment\";\n    if (stream.match(multilineCommentsStart)) {\n      state.inComment = true;\n      return \"comment\";\n    }\n\n    if (stream.match(/^-?[0-9\\.]/, false)) {\n      if (stream.match(integers) || stream.match(floats)) return \"number\";\n    }\n\n    if (stream.match(strings)) return \"string\";\n\n    if (state.startDef && stream.match(identifiers)) return \"def\";\n\n    if (state.endDef && stream.match(identifiersEnd)) {\n      state.endDef = false;\n      return \"def\";\n    }\n\n    if (stream.match(keywords)) return \"keyword\";\n\n    if (stream.match(types)) {\n      var lastToken = state.lastToken;\n      var nextToken = (stream.match(/^\\s*(.+?)\\b/, false) || [])[1];\n\n      if (lastToken === \":\" || lastToken === \"implements\" ||\n        nextToken === \"implements\" || nextToken === \"=\") {\n        return \"builtin\";\n      } else {\n        return \"variable-3\";\n      }\n    }\n\n    if (stream.match(builtins)) return \"builtin\";\n    if (stream.match(atoms)) return \"atom\";\n    if (stream.match(identifiers)) return \"variable\";\n\n    if (stream.match(singleOperators)) return \"operator\";\n\n    stream.next();\n    return null;\n  };\n\n  CodeMirror.defineMode(\"webidl\", function() {\n    return {\n      startState: function() {\n        return {\n          inComment: false,\n          lastToken: \"\",\n          startDef: false,\n          endDef: false\n        };\n      },\n      token: function(stream, state) {\n        var style = readToken(stream, state);\n\n        if (style) {\n          var cur = stream.current();\n          state.lastToken = cur;\n          if (style === \"keyword\") {\n            state.startDef = startDefs.test(cur);\n            state.endDef = state.endDef || endDefs.test(cur);\n          } else {\n            state.startDef = false;\n          }\n        }\n\n        return style;\n      }\n    };\n  });\n\n  CodeMirror.defineMIME(\"text/x-webidl\", \"webidl\");\n}"],"names":[],"mappings":"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"}