{"version":3,"file":"lua.js","sources":["../../../../src/mode/lua/lua.js"],"sourcesContent":["// Source: https://github.com/codemirror/CodeMirror/tree/master/mode/lua/lua.js\nexport default function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineMode(\"lua\", function(config, parserConfig) {\n    var indentUnit = config.indentUnit;\n\n    function prefixRE(words) {\n      return new RegExp(\"^(?:\" + words.join(\"|\") + \")\", \"i\");\n    }\n    function wordRE(words) {\n      return new RegExp(\"^(?:\" + words.join(\"|\") + \")$\", \"i\");\n    }\n    var specials = wordRE(parserConfig.specials || []);\n\n    var builtins = wordRE([\n      \"_G\",\"_VERSION\",\"assert\",\"collectgarbage\",\"dofile\",\"error\",\"getfenv\",\"getmetatable\",\"ipairs\",\"load\",\n      \"loadfile\",\"loadstring\",\"module\",\"next\",\"pairs\",\"pcall\",\"print\",\"rawequal\",\"rawget\",\"rawset\",\"require\",\n      \"select\",\"setfenv\",\"setmetatable\",\"tonumber\",\"tostring\",\"type\",\"unpack\",\"xpcall\",\n\n      \"coroutine.create\",\"coroutine.resume\",\"coroutine.running\",\"coroutine.status\",\"coroutine.wrap\",\"coroutine.yield\",\n\n      \"debug.debug\",\"debug.getfenv\",\"debug.gethook\",\"debug.getinfo\",\"debug.getlocal\",\"debug.getmetatable\",\n      \"debug.getregistry\",\"debug.getupvalue\",\"debug.setfenv\",\"debug.sethook\",\"debug.setlocal\",\"debug.setmetatable\",\n      \"debug.setupvalue\",\"debug.traceback\",\n\n      \"close\",\"flush\",\"lines\",\"read\",\"seek\",\"setvbuf\",\"write\",\n\n      \"io.close\",\"io.flush\",\"io.input\",\"io.lines\",\"io.open\",\"io.output\",\"io.popen\",\"io.read\",\"io.stderr\",\"io.stdin\",\n      \"io.stdout\",\"io.tmpfile\",\"io.type\",\"io.write\",\n\n      \"math.abs\",\"math.acos\",\"math.asin\",\"math.atan\",\"math.atan2\",\"math.ceil\",\"math.cos\",\"math.cosh\",\"math.deg\",\n      \"math.exp\",\"math.floor\",\"math.fmod\",\"math.frexp\",\"math.huge\",\"math.ldexp\",\"math.log\",\"math.log10\",\"math.max\",\n      \"math.min\",\"math.modf\",\"math.pi\",\"math.pow\",\"math.rad\",\"math.random\",\"math.randomseed\",\"math.sin\",\"math.sinh\",\n      \"math.sqrt\",\"math.tan\",\"math.tanh\",\n\n      \"os.clock\",\"os.date\",\"os.difftime\",\"os.execute\",\"os.exit\",\"os.getenv\",\"os.remove\",\"os.rename\",\"os.setlocale\",\n      \"os.time\",\"os.tmpname\",\n\n      \"package.cpath\",\"package.loaded\",\"package.loaders\",\"package.loadlib\",\"package.path\",\"package.preload\",\n      \"package.seeall\",\n\n      \"string.byte\",\"string.char\",\"string.dump\",\"string.find\",\"string.format\",\"string.gmatch\",\"string.gsub\",\n      \"string.len\",\"string.lower\",\"string.match\",\"string.rep\",\"string.reverse\",\"string.sub\",\"string.upper\",\n\n      \"table.concat\",\"table.insert\",\"table.maxn\",\"table.remove\",\"table.sort\"\n    ]);\n    var keywords = wordRE([\"and\",\"break\",\"elseif\",\"false\",\"nil\",\"not\",\"or\",\"return\",\n      \"true\",\"function\", \"end\", \"if\", \"then\", \"else\", \"do\",\n      \"while\", \"repeat\", \"until\", \"for\", \"in\", \"local\" ]);\n\n    var indentTokens = wordRE([\"function\", \"if\",\"repeat\",\"do\", \"\\\\(\", \"{\"]);\n    var dedentTokens = wordRE([\"end\", \"until\", \"\\\\)\", \"}\"]);\n    var dedentPartial = prefixRE([\"end\", \"until\", \"\\\\)\", \"}\", \"else\", \"elseif\"]);\n\n    function readBracket(stream) {\n      var level = 0;\n      while (stream.eat(\"=\")) ++level;\n      stream.eat(\"[\");\n      return level;\n    }\n\n    function normal(stream, state) {\n      var ch = stream.next();\n      if (ch == \"-\" && stream.eat(\"-\")) {\n        if (stream.eat(\"[\") && stream.eat(\"[\"))\n          return (state.cur = bracketed(readBracket(stream), \"comment\"))(stream, state);\n        stream.skipToEnd();\n        return \"comment\";\n      }\n      if (ch == \"\\\"\" || ch == \"'\")\n        return (state.cur = string(ch))(stream, state);\n      if (ch == \"[\" && /[\\[=]/.test(stream.peek()))\n        return (state.cur = bracketed(readBracket(stream), \"string\"))(stream, state);\n      if (/\\d/.test(ch)) {\n        stream.eatWhile(/[\\w.%]/);\n        return \"number\";\n      }\n      if (/[\\w_]/.test(ch)) {\n        stream.eatWhile(/[\\w\\\\\\-_.]/);\n        return \"variable\";\n      }\n      return null;\n    }\n\n    function bracketed(level, style) {\n      return function(stream, state) {\n        var curlev = null, ch;\n        while ((ch = stream.next()) != null) {\n          if (curlev == null) {if (ch == \"]\") curlev = 0;}\n          else if (ch == \"=\") ++curlev;\n          else if (ch == \"]\" && curlev == level) { state.cur = normal; break; }\n          else curlev = null;\n        }\n        return style;\n      };\n    }\n\n    function string(quote) {\n      return function(stream, state) {\n        var escaped = false, ch;\n        while ((ch = stream.next()) != null) {\n          if (ch == quote && !escaped) break;\n          escaped = !escaped && ch == \"\\\\\";\n        }\n        if (!escaped) state.cur = normal;\n        return \"string\";\n      };\n    }\n\n    return {\n      startState: function(basecol) {\n        return {basecol: basecol || 0, indentDepth: 0, cur: normal};\n      },\n\n      token: function(stream, state) {\n        if (stream.eatSpace()) return null;\n        var style = state.cur(stream, state);\n        var word = stream.current();\n        if (style == \"variable\") {\n          if (keywords.test(word)) style = \"keyword\";\n          else if (builtins.test(word)) style = \"builtin\";\n          else if (specials.test(word)) style = \"variable-2\";\n        }\n        if ((style != \"comment\") && (style != \"string\")){\n          if (indentTokens.test(word)) ++state.indentDepth;\n          else if (dedentTokens.test(word)) --state.indentDepth;\n        }\n        return style;\n      },\n\n      indent: function(state, textAfter) {\n        var closing = dedentPartial.test(textAfter);\n        return state.basecol + indentUnit * (state.indentDepth - (closing ? 1 : 0));\n      },\n\n      lineComment: \"--\",\n      blockCommentStart: \"--[[\",\n      blockCommentEnd: \"]]\"\n    };\n  });\n\n  CodeMirror.defineMIME(\"text/x-lua\", \"lua\");\n\n}"],"names":[],"mappings":"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"}