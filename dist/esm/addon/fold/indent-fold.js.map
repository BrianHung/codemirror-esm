{"version":3,"file":"indent-fold.js","sources":["../../../../src/addon/fold/indent-fold.js"],"sourcesContent":["// Source: https://github.com/codemirror/CodeMirror/tree/master/addon/fold/indent-fold.js\nexport default function(CodeMirror) {\n  \"use strict\";\n\n  function lineIndent(cm, lineNo) {\n    var text = cm.getLine(lineNo)\n    var spaceTo = text.search(/\\S/)\n    if (spaceTo == -1 || /\\bcomment\\b/.test(cm.getTokenTypeAt(CodeMirror.Pos(lineNo, spaceTo + 1))))\n      return -1\n    return CodeMirror.countColumn(text, null, cm.getOption(\"tabSize\"))\n  }\n\n  CodeMirror.registerHelper(\"fold\", \"indent\", function(cm, start) {\n    var myIndent = lineIndent(cm, start.line)\n    if (myIndent < 0) return\n    var lastLineInFold = null\n\n    for (var i = start.line + 1, end = cm.lastLine(); i <= end; ++i) {\n      var indent = lineIndent(cm, i)\n      if (indent == -1) {\n      } else if (indent > myIndent) {\n        lastLineInFold = i;\n      } else {\n        break;\n      }\n    }\n    if (lastLineInFold) return {\n      from: CodeMirror.Pos(start.line, cm.getLine(start.line).length),\n      to: CodeMirror.Pos(lastLineInFold, cm.getLine(lastLineInFold).length)\n    };\n  });\n\n}"],"names":[],"mappings":"AAAA;AACe,oBAAS,UAAU,EAAE;AAEpC;AACA,EAAE,SAAS,UAAU,CAAC,EAAE,EAAE,MAAM,EAAE;AAClC,IAAI,IAAI,IAAI,GAAG,EAAE,CAAC,OAAO,CAAC,MAAM,EAAC;AACjC,IAAI,IAAI,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,EAAC;AACnC,IAAI,IAAI,OAAO,IAAI,CAAC,CAAC,IAAI,aAAa,CAAC,IAAI,CAAC,EAAE,CAAC,cAAc,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,EAAE,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC;AACnG,QAAM,OAAO,CAAC,GAAC;AACf,IAAI,OAAO,UAAU,CAAC,WAAW,CAAC,IAAI,EAAE,IAAI,EAAE,EAAE,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;AACtE,GAAG;AACH;AACA,EAAE,UAAU,CAAC,cAAc,CAAC,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,EAAE,KAAK,EAAE;AAClE,IAAI,IAAI,QAAQ,GAAG,UAAU,CAAC,EAAE,EAAE,KAAK,CAAC,IAAI,EAAC;AAC7C,IAAI,IAAI,QAAQ,GAAG,CAAC,IAAE,QAAM;AAC5B,IAAI,IAAI,cAAc,GAAG,KAAI;AAC7B;AACA,IAAI,KAAK,IAAI,CAAC,GAAG,KAAK,CAAC,IAAI,GAAG,CAAC,EAAE,GAAG,GAAG,EAAE,CAAC,QAAQ,EAAE,EAAE,CAAC,IAAI,GAAG,EAAE,EAAE,CAAC,EAAE;AACrE,MAAM,IAAI,MAAM,GAAG,UAAU,CAAC,EAAE,EAAE,CAAC,EAAC;AACpC,MAAM,IAAI,MAAM,IAAI,CAAC,CAAC,EAAE,CACjB,MAAM,IAAI,MAAM,GAAG,QAAQ,EAAE;AACpC,QAAQ,cAAc,GAAG,CAAC,CAAC;AAC3B,OAAO,MAAM;AACb,QAAQ,MAAM;AACd,OAAO;AACP,KAAK;AACL,IAAI,IAAI,cAAc,IAAE,OAAO;AAC/B,MAAM,IAAI,EAAE,UAAU,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC;AACrE,MAAM,EAAE,EAAE,UAAU,CAAC,GAAG,CAAC,cAAc,EAAE,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,MAAM,CAAC;AAC3E,KAAK,GAAC;AACN,GAAG,CAAC,CAAC;AACL;AACA;;;;"}