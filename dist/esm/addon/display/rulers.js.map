{"version":3,"file":"rulers.js","sources":["../../../../src/addon/display/rulers.js"],"sourcesContent":["// Source: https://github.com/codemirror/CodeMirror/tree/master/addon/display/rulers.js\nexport default function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"rulers\", false, function(cm, val) {\n    if (cm.state.rulerDiv) {\n      cm.state.rulerDiv.parentElement.removeChild(cm.state.rulerDiv)\n      cm.state.rulerDiv = null\n      cm.off(\"refresh\", drawRulers)\n    }\n    if (val && val.length) {\n      cm.state.rulerDiv = cm.display.lineSpace.parentElement.insertBefore(document.createElement(\"div\"), cm.display.lineSpace)\n      cm.state.rulerDiv.className = \"CodeMirror-rulers\"\n      drawRulers(cm)\n      cm.on(\"refresh\", drawRulers)\n    }\n  });\n\n  function drawRulers(cm) {\n    cm.state.rulerDiv.textContent = \"\"\n    var val = cm.getOption(\"rulers\");\n    var cw = cm.defaultCharWidth();\n    var left = cm.charCoords(CodeMirror.Pos(cm.firstLine(), 0), \"div\").left;\n    cm.state.rulerDiv.style.minHeight = (cm.display.scroller.offsetHeight + 30) + \"px\";\n    for (var i = 0; i < val.length; i++) {\n      var elt = document.createElement(\"div\");\n      elt.className = \"CodeMirror-ruler\";\n      var col, conf = val[i];\n      if (typeof conf == \"number\") {\n        col = conf;\n      } else {\n        col = conf.column;\n        if (conf.className) elt.className += \" \" + conf.className;\n        if (conf.color) elt.style.borderColor = conf.color;\n        if (conf.lineStyle) elt.style.borderLeftStyle = conf.lineStyle;\n        if (conf.width) elt.style.borderLeftWidth = conf.width;\n      }\n      elt.style.left = (left + col * cw) + \"px\";\n      cm.state.rulerDiv.appendChild(elt)\n    }\n  }\n}"],"names":[],"mappings":"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"}